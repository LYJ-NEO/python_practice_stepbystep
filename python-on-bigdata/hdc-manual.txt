# shell登录
ssh root@192.168.168.129 -p 2222
root  / iamneo@46

# 激活admin
ambari-admin-password-reset
admin/iamneo


scp -P 2222 root@sandbox-hdp.hortonworks.com:<sandbox_directory_file>

chown oozie:oozie -R ext-2.2

chown oozie:hadoop -R ext-2.2

# 文件传输
Using the terminal of your choice, you can transfer files to/from sandbox and local machine.

Transfer file from local machine to sandbox:

scp -P 2222 <local_directory_file> root@sandbox-hdp.hortonworks.com:<sandbox_directory_file>
pscp.exe FactInternetSales.csv root@sandbox-hdp.hortonworks.com:~/hive_data
pscp.exe FactInternetSales.csv root@192.168.168.132:~/hive_data



Transfer file from sandbox to local machine:

scp -P 2222 root@sandbox-hdp.hortonworks.com:<sandbox_directory_file> <local_directory_file>
Do you notice the difference between the two commands?


INFO: Adding extension: /usr/hdp/current/oozie-server/libext/falcon-oozie-el-extension-0.10.0.2.6.5.0-292.jar                                        
INFO: Oozie webconsole disabled, ExtJS library not specified     





Looks like your NameNode is started but it is still in SafeMode hence it will not allow any mutable operations to be performed on HDFS. Thats the reason you are getting this SafeMode related error.

In order to validate the same you can try creating a simple directory on HDFS and you might get the same error kind of

# su - hdfs -c "hdfs dfs -mkdir /tmp/test"

If you want to know if the NameNode is in SafeMode or not then you can run the following command:

# su - hdfs -c "hdfs dfsadmin -safemode get"

In order to tell NameNode to leave the safe mode you can run the following command:

# su - hdfs -c "hdfs dfsadmin -safemode leave"

If the NameNode still does not come out of SafeMode then you will need to try restarting the NameNode once and check the NameNode log for any error/warning.

# su -l hdfs -c "/usr/hdp/current/hadoop-hdfs-namenode/../hadoop/sbin/hadoop-daemon.sh stop namenode"
# su -l hdfs -c "/usr/hdp/current/hadoop-hdfs-namenode/../hadoop/sbin/hadoop-daemon.sh start namenode"
# tail -f /var/log/hadoop/hdfs/hadoop-hdfs-namenod*